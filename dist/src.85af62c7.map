{"version":3,"sources":["core\\game.ts","config.ts","core\\input.ts","core\\screen.ts","core\\main.ts","core\\resource-manager.ts","core\\text.ts","platformer\\scenes\\title-scene.ts","index.ts"],"names":[],"mappings":"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AAA,MAAA;AACA,QAAA,IAAA,KAAA,IAAA,EAAA,IAAA,KAAA;AACA,QAAA,IAAA,KAAA,IAAA,EAAA,IAAA,KAAA;AACA,QAAA,IAAA,OAAA,IAAA,EAAA,IAAA,OAAA;AACA,QAAA,IAAA,MAAA,IAAA,EAAA,IAAA,MAAA;AACA,QAAA,IAAA,MAAA,IAAA,EAAA,IAAA,MAAA;AACA,QAAA,IAAA,KAAA,IAAA,EAAA,IAAA,KAAA;AACA,QAAA,IAAA,OAAA,IAAA,EAAA,IAAA,OAAA;AACA,QAAA,IAAA,OAAA,IAAA,EAAA,IAAA,OAAA;AACA,QAAA,IAAA,MAAA,IAAA,EAAA,IAAA,MAAA;AACA,QAAA,IAAA,GAAA,IAAA,EAAA,IAAA,GAAA;AACA,QAAA,IAAA,GAAA,IAAA,EAAA,IAAA,GAAA;AACA,QAAA,IAAA,GAAA,IAAA,EAAA,IAAA,GAAA;AACA,QAAA,IAAA,GAAA,IAAA,EAAA,IAAA,GAAA;AACA,QAAA,IAAA,GAAA,IAAA,EAAA,IAAA,GAAA;AACA,QAAA,IAAA,GAAA,IAAA,EAAA,IAAA,GAAA;AACA,QAAA,IAAA,GAAA,IAAA,EAAA,IAAA,GAAA;AACA,QAAA,IAAA,GAAA,IAAA,EAAA,IAAA,GAAA;AACA,QAAA,IAAA,GAAA,IAAA,EAAA,IAAA,GAAA;AACA,QAAA,IAAA,GAAA,IAAA,EAAA,IAAA,GAAA;AACA,QAAA,IAAA,GAAA,IAAA,EAAA,IAAA,GAAA;AACA,QAAA,IAAA,GAAA,IAAA,EAAA,IAAA,GAAA;AACA,QAAA,IAAA,GAAA,IAAA,EAAA,IAAA,GAAA;AACA,QAAA,IAAA,GAAA,IAAA,EAAA,IAAA,GAAA;AACA,QAAA,IAAA,GAAA,IAAA,EAAA,IAAA,GAAA;AACA,QAAA,IAAA,GAAA,IAAA,EAAA,IAAA,GAAA;AACA,QAAA,IAAA,GAAA,IAAA,EAAA,IAAA,GAAA;AACA,QAAA,IAAA,GAAA,IAAA,EAAA,IAAA,GAAA;AACA,QAAA,IAAA,GAAA,IAAA,EAAA,IAAA,GAAA;AACA,QAAA,IAAA,GAAA,IAAA,EAAA,IAAA,GAAA;AACA,QAAA,IAAA,GAAA,IAAA,EAAA,IAAA,GAAA;AACA,QAAA,IAAA,GAAA,IAAA,EAAA,IAAA,GAAA;AACA,QAAA,IAAA,GAAA,IAAA,EAAA,IAAA,GAAA;AACA,QAAA,IAAA,GAAA,IAAA,EAAA,IAAA,GAAA;AACA,QAAA,IAAA,GAAA,IAAA,EAAA,IAAA,GAAA;AACA,QAAA,IAAA,GAAA,IAAA,EAAA,IAAA,GAAA;AACA,QAAA,IAAA,UAAA,IAAA,EAAA,IAAA,UAAA;AACA,QAAA,IAAA,WAAA,IAAA,EAAA,IAAA,WAAA;AACA,QAAA,IAAA,QAAA,IAAA,EAAA,IAAA,QAAA;AACA,QAAA,IAAA,UAAA,IAAA,EAAA,IAAA,UAAA;AACA,QAAA,IAAA,SAAA,IAAA,EAAA,IAAA,SAAA;AACA,QAAA,IAAA,SAAA,IAAA,EAAA,IAAA,SAAA;AACA,QAAA,IAAA,WAAA,IAAA,EAAA,IAAA,WAAA;AACA,QAAA,IAAA,UAAA,IAAA,GAAA,IAAA,UAAA;AACA,QAAA,IAAA,UAAA,IAAA,GAAA,IAAA,UAAA;AACA,QAAA,IAAA,SAAA,IAAA,GAAA,IAAA,SAAA;AACA,QAAA,IAAA,WAAA,IAAA,GAAA,IAAA,WAAA;AACA,QAAA,IAAA,WAAA,IAAA,GAAA,IAAA,WAAA;AACA,QAAA,IAAA,UAAA,IAAA,GAAA,IAAA,UAAA;AACA,QAAA,IAAA,UAAA,IAAA,GAAA,IAAA,UAAA;AACA,QAAA,IAAA,KAAA,IAAA,GAAA,IAAA,KAAA;AACA,QAAA,IAAA,UAAA,IAAA,GAAA,IAAA,UAAA;AACA,QAAA,IAAA,SAAA,IAAA,GAAA,IAAA,SAAA;AACA,QAAA,IAAA,QAAA,IAAA,GAAA,IAAA,QAAA;AACA,QAAA,IAAA,IAAA,IAAA,GAAA,IAAA,IAAA;AACA,QAAA,IAAA,IAAA,IAAA,GAAA,IAAA,IAAA;AACA,QAAA,IAAA,IAAA,IAAA,GAAA,IAAA,IAAA;AACA,QAAA,IAAA,IAAA,IAAA,GAAA,IAAA,IAAA;AACA,QAAA,IAAA,IAAA,IAAA,GAAA,IAAA,IAAA;AACA,QAAA,IAAA,IAAA,IAAA,GAAA,IAAA,IAAA;AACA,QAAA,IAAA,IAAA,IAAA,GAAA,I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","file":"src.85af62c7.map","sourceRoot":"..\\src","sourcesContent":["import { IScene, ISceneConstructor } from './scene'\r\n\r\nclass Game {\r\n  public currentScreen?: IScene\r\n\r\n  public SetUpScreen(ScreenType: ISceneConstructor) {\r\n    const mOldScreen = this.currentScreen\r\n    const newScreen = new ScreenType(mOldScreen)\r\n    this.currentScreen = newScreen\r\n  }\r\n}\r\n\r\nexport const game: Game = new Game()\r\n","export const DEBUG = true\r\nexport const FPS_LIST_SIZE = 20\r\n","export enum Key {\r\n  BACKSPACE = 8,\r\n  TAB = 9,\r\n  ENTER = 13,\r\n  SHIFT = 16,\r\n  CTRL = 17,\r\n  ALT = 18,\r\n  PAUSE_BREAK = 19,\r\n  CAPS_LOCK = 20,\r\n  ESCAPE = 27,\r\n  SPACE = 32,\r\n  PAGE_UP = 33,\r\n  PAGE_DOWN = 34,\r\n  END = 35,\r\n  HOME = 36,\r\n  LEFT_ARROW = 37,\r\n  UP_ARROW = 38,\r\n  RIGHT_ARROW = 39,\r\n  DOWN_ARROW = 40,\r\n  INSERT = 45,\r\n  DELETE = 46,\r\n  ZERO = 48,\r\n  ONE = 49,\r\n  TWO = 50,\r\n  THREE = 51,\r\n  FOUR = 52,\r\n  FIVE = 53,\r\n  SIX = 54,\r\n  SEVEN = 55,\r\n  EIGHT = 56,\r\n  NINE = 57,\r\n  A = 65,\r\n  B = 66,\r\n  C = 67,\r\n  D = 68,\r\n  E = 69,\r\n  F = 70,\r\n  G = 71,\r\n  H = 72,\r\n  I = 73,\r\n  J = 74,\r\n  K = 75,\r\n  L = 76,\r\n  M = 77,\r\n  N = 78,\r\n  O = 79,\r\n  P = 80,\r\n  Q = 81,\r\n  R = 81,\r\n  S = 83,\r\n  T = 84,\r\n  U = 85,\r\n  V = 86,\r\n  W = 87,\r\n  X = 88,\r\n  Y = 89,\r\n  Z = 90,\r\n  WIN_LEFT = 91,\r\n  WIN_RIGHT = 92,\r\n  SELECT = 93,\r\n  NUM_ZERO = 96,\r\n  NUM_ONE = 97,\r\n  NUM_TWO = 98,\r\n  NUM_THREE = 99,\r\n  NUM_FOUR = 100,\r\n  NUM_FIVE = 101,\r\n  NUM_SIX = 102,\r\n  NUM_SEVEN = 103,\r\n  NUM_EIGHT = 104,\r\n  NUM_NINE = 105,\r\n  MULTIPLY = 106,\r\n  ADD = 107,\r\n  SUBTRACT = 109,\r\n  DECIMAL = 110,\r\n  DIVIDE = 111,\r\n  F1 = 112,\r\n  F2 = 113,\r\n  F3 = 114,\r\n  F4 = 115,\r\n  F5 = 116,\r\n  F6 = 117,\r\n  F7 = 118,\r\n  F8 = 119,\r\n  F9 = 120,\r\n  F10 = 121,\r\n  F11 = 122,\r\n  F12 = 123,\r\n  NUM_LOCK = 144,\r\n  SCROLL_LOCK = 145,\r\n  SEMICOLON = 186,\r\n  EQUALS = 187,\r\n  COMMA = 188,\r\n  DASH = 189,\r\n  PERIOD = 190,\r\n  FORWARD_SLASH = 191,\r\n  GRAVE_ACCENT = 192,\r\n  OPEN_BRACKET = 219,\r\n  BACK_SLASH = 220,\r\n  CLOSE_BRACKET = 221,\r\n  SINGLE_QUOTE = 222,\r\n}\r\n\r\nclass CInputManager {\r\n  private _pressed = new Set<Key>()\r\n  private _lastPressed = new Set<Key>()\r\n\r\n  public isDown(keyCode: Key) {\r\n    return this._pressed.has(keyCode)\r\n  }\r\n\r\n  public pressed(keyCode: Key) {\r\n    return this._pressed.has(keyCode) && !this._lastPressed.has(keyCode)\r\n  }\r\n\r\n  public isUp(keyCode: Key) {\r\n    return !this._pressed.has(keyCode)\r\n  }\r\n\r\n  public released(keyCode: Key) {\r\n    return !this._pressed.has(keyCode) && this._lastPressed.has(keyCode)\r\n  }\r\n\r\n  public onKeydown(event: KeyboardEvent) {\r\n    this._pressed.add(event.keyCode)\r\n    event.preventDefault()\r\n  }\r\n\r\n  public onKeyup(event: KeyboardEvent) {\r\n    this._pressed.delete(event.keyCode)\r\n    event.preventDefault()\r\n  }\r\n\r\n  public flush() {\r\n    this._lastPressed.clear()\r\n    this._pressed.forEach(k => this._lastPressed.add(k))\r\n  }\r\n}\r\n\r\nexport const INPUT_MANAGER = new CInputManager()\r\n","export interface IResolution {\r\n  height: number\r\n  width: number\r\n}\r\n\r\nexport default class Screen {\r\n  public static UpdateScreen() {\r\n    Screen._height = document.documentElement.clientHeight\r\n    Screen._width = document.documentElement.clientWidth\r\n    Screen._dpr = window.devicePixelRatio\r\n  }\r\n\r\n  public static get height() {\r\n    return Screen._height\r\n  }\r\n\r\n  public static get width() {\r\n    return Screen._width\r\n  }\r\n\r\n  public static get dpr() {\r\n    return Screen._dpr\r\n  }\r\n\r\n  public static get resolution(): IResolution {\r\n    return {\r\n      height: Screen._height,\r\n      width: Screen._width,\r\n    }\r\n  }\r\n\r\n  private static _dpr: number\r\n  private static _height: number\r\n  private static _width: number\r\n}\r\n","import * as config from '../config'\r\nimport { game } from './game'\r\nimport { INPUT_MANAGER } from './input'\r\nimport Screen from './screen'\r\n\r\nexport default function init() {\r\n  const canvas = document.getElementById('canvas') as HTMLCanvasElement\r\n  const ctx = canvas.getContext('2d')\r\n\r\n  const resizeCanvas = () => {\r\n    canvas.width = Screen.width\r\n    canvas.height = Screen.height\r\n  }\r\n\r\n  resizeCanvas()\r\n\r\n  ctx.imageSmoothingEnabled = false\r\n  ctx.textBaseline = 'middle'\r\n\r\n  let last = -1\r\n  const fpsList = [0]\r\n\r\n  window.addEventListener('keyup', event => INPUT_MANAGER.onKeyup(event))\r\n  window.addEventListener('keydown', event => INPUT_MANAGER.onKeydown(event))\r\n\r\n  const gameloop = (timestamp: number) => {\r\n    let inc = 0\r\n    if (last) {\r\n      inc = timestamp - last\r\n    }\r\n    last = timestamp\r\n\r\n    Screen.UpdateScreen()\r\n    resizeCanvas()\r\n\r\n    ctx.clearRect(0, 0, Screen.width, Screen.height)\r\n\r\n    game.currentScreen.update(inc)\r\n    game.currentScreen.draw(ctx, inc)\r\n\r\n    if (config.DEBUG) {\r\n      fpsList.push(inc)\r\n      if (fpsList.length > config.FPS_LIST_SIZE) {\r\n        fpsList.shift()\r\n        ctx.fillStyle = 'white'\r\n        ctx.font = '1em \"Arial\"'\r\n        const avgFPS = fpsList.reduce((x, y) => x + y, 0) / config.FPS_LIST_SIZE\r\n        ctx.fillText(`FPS: ${(1000 / avgFPS).toFixed(3)}`, 50, 50)\r\n      }\r\n    }\r\n\r\n    INPUT_MANAGER.flush()\r\n\r\n    window.requestAnimationFrame(gameloop)\r\n  }\r\n\r\n  window.requestAnimationFrame(gameloop)\r\n}\r\n","const images = new Map<string, HTMLImageElement>()\r\n\r\nexport function getImage(name: string) {\r\n  return images.get(name)\r\n}\r\n\r\nexport function loadImage(name: string, path: string) {\r\n  const img = new Image()\r\n  img.src = path\r\n  images.set(name, img)\r\n}\r\n","import { IDrawable } from './rendering'\r\nimport Screen from './screen'\r\n\r\nexport enum Alignment {\r\n  Left,\r\n  Center,\r\n  Right,\r\n}\r\n\r\nexport enum TextAnchor {\r\n  UpperLeft,\r\n  UpperCenter,\r\n  UpperRight,\r\n  MiddleLeft,\r\n  MiddleCenter,\r\n  MiddleRight,\r\n  LowerLeft,\r\n  LowerCenter,\r\n  LowerRight,\r\n}\r\n\r\nexport default class Text implements IDrawable {\r\n  public alignment: Alignment\r\n  public anchor: TextAnchor\r\n  public characterSize: number\r\n  public color: string // TODO: Color class\r\n  public font: string\r\n  public fontSize: string\r\n  public fontStyle: 'normal' | 'italic' | 'oblique'\r\n  public fontVariant: 'normal' | 'small-caps'\r\n  public fontWeight: 'normal' | 'bold' | 'bolder' | 'lighter'\r\n  public lineSpacing?: string\r\n  public text: string\r\n\r\n  constructor() {\r\n    this.alignment = Alignment.Left\r\n    this.anchor = TextAnchor.MiddleCenter\r\n    this.characterSize = 1\r\n    this.color = 'white'\r\n    this.font = 'Arial'\r\n    this.fontSize = '16pt'\r\n    this.fontStyle = 'normal'\r\n    this.fontVariant = 'normal'\r\n    this.fontWeight = 'normal'\r\n    this.lineSpacing = undefined\r\n    this.text = ''\r\n  }\r\n\r\n  public draw(ctx: CanvasRenderingContext2D, deltaTime: number): void {\r\n    ctx.fillStyle = this.color\r\n    const fontSizeAndSpacing = this.lineSpacing\r\n      ? `${this.fontSize}/${this.lineSpacing}`\r\n      : this.fontSize\r\n    ctx.font = `${this.fontStyle} ${this.fontVariant} ${\r\n      this.fontWeight\r\n    } ${fontSizeAndSpacing} \"${this.font}\"`\r\n    // TODO: Positioning based on alignment, anchor, character size\r\n    ctx.fillText(\r\n      this.text,\r\n      (Screen.width - ctx.measureText(this.text).width) / 2,\r\n      Screen.height / 2 - 50\r\n    )\r\n  }\r\n}\r\n","import { IScene } from '../../core/scene'\r\nimport Screen from '../../core/screen'\r\nimport Text from '../../core/text'\r\n\r\nexport default class TitleScene implements IScene {\r\n  private titleText: Text\r\n\r\n  constructor() {\r\n    this.titleText = new Text()\r\n    this.titleText.text = 'Platformer'\r\n    this.titleText.fontSize = '64pt'\r\n    this.titleText.lineSpacing = '72pt'\r\n  }\r\n\r\n  public name() {\r\n    return 'Title Screen'\r\n  }\r\n\r\n  public update() {\r\n    // Do nothing\r\n  }\r\n\r\n  public draw(ctx: CanvasRenderingContext2D, deltaTime: number) {\r\n    this.titleText.draw(ctx, deltaTime)\r\n  }\r\n}\r\n","import { game } from './core/game'\r\nimport init from './core/main'\r\nimport * as ResourceManager from './core/resource-manager'\r\nimport TitleScene from './platformer/scenes/title-scene'\r\n/// <reference path=\"./typings/images.d.ts\" />\r\n\r\nimport alicURL from './platformer/resources/images/alic_face.png'\r\n\r\n// Load all resources\r\nResourceManager.loadImage('alic', alicURL as string)\r\n\r\ninit()\r\ngame.SetUpScreen(TitleScene)\r\n"]}